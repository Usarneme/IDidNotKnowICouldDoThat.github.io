<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="It is amazing what you can do with a little patience and a library card">
	<meta name="author" content="Tom Geraghty">
	<title>JS Calculator</title>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" rel="stylesheet">
	<link href="style.css" rel="stylesheet">
	<!-- Progressive Web App manifest -->
	<link rel="manifest" href="manifest.json">
	<meta name="theme-color" content="#c2f5e6">

</head>

<body id="page-top">

  <!-- Navigation -->
  <nav>
	<header>
		<h1>Projects of Great Interest</h1>
	</header>
  </nav>

  <main role="main"> <!-- ARIA role for devices that don't support HTML5 sectioning elements. -->
    <article>
		<h4>This project utilizes HTML5, CSS3, and ES6/JavaScript to create a Calculator web application.</h4>
		
		<div id="calculator" accesskey="m">
			<div id="result" accesskey="r"></div>

			<button id="seven" class="calcButton num" accesskey="7">7</button>
			<button id="eight" class="calcButton num" accesskey="8">8</button>
			<button id="nine" class="calcButton num" accesskey="9">9</button>
			<button id="add" class="calcButton operator" accesskey="d">+</button>

			<button id="four" class="calcButton num" accesskey="4">4</button>
			<button id="five" class="calcButton num" accesskey="5">5</button>
			<button id="six" class="calcButton num" accesskey="6">6</button>
			<button id="subtract" class="calcButton operator" accesskey="t">-</button>

			<button id="one" class="calcButton num" accesskey="1">1</button>
			<button id="two" class="calcButton num" accesskey="2">2</button>
			<button id="three" class="calcButton num" accesskey="3">3</button>
			<button id="multiply" class="calcButton operator" accesskey="y">*</button>

			<button id="period" class="calcButton dot" accesskey="p">.</button>
			<button id="zero" class="calcButton num" accesskey="0">0</button>
			<button id="equals" class="calcButton equals" accesskey="l">=</button>
			<button id="divide" class="calcButton operator" accesskey="e">/</button>

			<button id="backspace" class="calcButton backspace" accesskey="b">Back</button>
			<button id="clear" class="calcButton clear" accesskey="c">Clear</button>
		</div>

		<div class="clearfix"></div>

		<div class="decimalSelector">
			<h5>How many decimal places would you like to display in the result?</h5>
			0 <input id="sigFigInput" type="range" min="0" max="10" value="2" accesskey="s" label="decimalChooser" /> 10
			<p id="sigFig">2 decimal places</p>
		</div>
    </article>
	</main>
	
	<script>
		if ('serviceWorker' in navigator) {
			window.addEventListener('load', function() {
				navigator.serviceWorker.register('sw.js').then(function(registration) {
					// Registration was successful
					console.log('ServiceWorker registration successful with scope: ', registration.scope);
				}, function(err) {
					// registration failed :(
					console.log('ServiceWorker registration failed: ', err);
				});
			});
		}
	</script>

	<!-- Font lazy loader -->
	<script> 
		(function(){ 
		var xhr = new XMLHttpRequest();
		xhr.open('GET', 'https://fonts.googleapis.com/css?family=Raleway', true);
		xhr.onreadystatechange = function () {
			if (xhr.readyState == 4 && xhr.status == 200) {
			var style = document.createElement('style');
			console.dir(style);
			style.innerHTML = xhr.responseText;
			document.head.appendChild(style);
			}
		};
		xhr.send();
		}());
	</script>

	<!--  Calculator functionality and event listeners for user interaction -->
	<script src="calc.js"></script>

	<!-- ACCESS KEY REFERENCE: 
	// ELEMENTS
			m				: (m)ain element, calculator
			r				: (r)esult element, where the answer displays
			s				: significant figure slider (decimal places to display selector)
	// BUTTONS
			0-9 			: 0-9 
			d				: ad(d)
			t				: subtrac(t)
			y				: multipl(y)
			e				: divid(e)
			l				: resu(l)t
			p				: (p)eriod
			b				: (b)ackspace 
			c				: (c)lear 
	-->
</body>
</html>
